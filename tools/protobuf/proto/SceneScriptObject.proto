syntax = "proto3";
//option optimize_for = LITE_RUNTIME;

import "CommonScriptObject.proto";
//import "ModelScriptObject.proto";

package Tiny3D.Script.SceneSystem;



/**
 * @brief Node in scene graph
 */
message Node
{
    string              uuid = 1;       // the uuid for this node
    string              parent = 2;     // the uuid for parent node
    repeated string     children = 3;   // the list of uuid for children nodes
    string              name = 4;       // the name of this node
    repeated Component  components = 5; // ID components attaching to
}



/**
 * @brief Component
 */
message Component
{
    /**
     * @brief Type of component
     */
    enum Type
    {
        Transform = 0;      // Transform
        Mesh = 1;           // Mesh
        SkinnedMesh = 2;    // Skinned Mesh
    }
    
    Type    type = 1;
    
    oneof ComponentOneOf
    {
        Transform   transform = 2;
        Mesh        mesh = 3;
        SkinnedMesh skinned_mesh = 4;
    }
}

/**
 * @brief Transform
 */
message Transform
{
    Vector3     position = 2;
    Vector3     rotation = 3;
    Vector3     scaling = 4;
}

/**
 * @brief Mesh
 */
message Mesh
{
    string      uuid = 1;
}

/**
 * @brief Skinned Mesh
 */
message SkinnedMesh
{
    string      uuid = 1;
}
